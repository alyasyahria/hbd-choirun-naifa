<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadiah Ulang Tahun Spesial üéÅ</title>
    <style>
        :root {
            --primary: #ff6b6b;
            --secondary: #4ecdc4;
            --accent: #ffe66d;
            --dark: #292f36;
            --light: #f7fff7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            text-align: center;
            padding: 2rem;
            border-bottom: 5px dotted var(--accent);
            position: relative;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

        header p {
            font-size: 1.2rem;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--accent);
            opacity: 0.7;
            animation: fall 5s linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(500px) rotate(360deg); opacity: 0; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .card {
            background-color: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            border: 3px dashed var(--primary);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
        }

        .card h2 i {
            font-size: 1.5rem;
        }

        /* To-Do List Styles */
        .todo-list {
            list-style: none;
            margin-top: 1rem;
        }

        .todo-item {
            display: flex;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid #eee;
            gap: 0.8rem;
        }

        .todo-item input[type="checkbox"] {
            min-width: 20px;
            min-height: 20px;
            margin-right: 0.5rem;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .todo-item label {
            flex-grow: 1;
            word-break: break-word;
        }

        .todo-item.completed label {
            text-decoration: line-through;
            color: #aaa;
        }

        .add-todo {
            display: flex;
            margin-top: 1.5rem;
            gap: 0.5rem;
        }

        .add-todo input {
            flex-grow: 1;
            padding: 0.8rem;
            border: 2px solid var(--secondary);
            border-radius: 8px;
            outline: none;
            font-size: 1rem;
        }

        .add-todo button {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1.2rem;
        }

        .add-todo button:hover {
            background-color: var(--primary);
        }

        /* Notes Styles */
        .note-content {
            width: 100%;
            height: 200px;
            padding: 1rem;
            border: 2px solid var(--secondary);
            border-radius: 8px;
            resize: none;
            margin: 1rem 0;
            font-family: inherit;
            font-size: 1rem;
        }

        .save-note {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1rem;
            display: block;
            width: 100%;
        }

        .save-note:hover {
            background-color: var(--primary);
        }

        /* Gallery Styles */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 0.8rem;
            margin: 1.5rem 0;
        }

        .gallery-item {
            aspect-ratio: 1;
            background-color: #eee;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .upload-area {
            border: 2px dashed var(--secondary);
            border-radius: 8px;
            padding: 2rem 1rem;
            text-align: center;
            margin-top: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .upload-area:hover {
            background-color: rgba(78, 205, 196, 0.1);
        }

        .upload-area i {
            font-size: 2rem;
            color: var(--secondary);
        }

        /* Music Player Styles */
        .music-player {
            width: 100%;
            margin-top: 1rem;
        }

        .tab-buttons {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--secondary);
        }

        .tab-button {
            padding: 0.8rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: bold;
            color: var(--dark);
            position: relative;
            font-size: 1rem;
        }

        .tab-button.active {
            color: var(--primary);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .song-list {
            list-style: none;
            margin-top: 1rem;
        }

        .song-list li {
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .song-list li:hover {
            background-color: rgba(78, 205, 196, 0.1);
        }

        .song-list li.active {
            background-color: rgba(255, 107, 107, 0.1);
            font-weight: bold;
            color: var(--primary);
        }

        .now-playing {
            font-size: 1.2rem;
            margin: 1rem 0;
            text-align: center;
            min-height: 2.5rem;
        }

        .music-controls {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .music-controls button {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .music-controls button:hover {
            transform: scale(1.1);
            background-color: var(--secondary);
        }

        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #ddd;
            border-radius: 3px;
            margin: 1.5rem 0;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            background-color: var(--primary);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s;
        }

        .time-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }

        /* Finance Styles */
        .finance-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .finance-form select, 
        .finance-form input {
            padding: 0.8rem;
            border: 2px solid var(--secondary);
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
        }

        .finance-form button {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1rem;
        }

        .finance-form button:hover {
            background-color: var(--primary);
        }

        .balance {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 1.5rem 0;
            text-align: center;
            padding: 1rem;
            border-radius: 8px;
            background-color: rgba(78, 205, 196, 0.1);
        }

        .positive {
            color: #2ecc71;
        }

        .negative {
            color: #e74c3c;
        }

        .transaction-list {
            list-style: none;
            margin-top: 1rem;
            max-height: 300px;
            overflow-y: auto;
            border-radius: 8px;
            border: 2px solid #eee;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .transaction-item:last-child {
            border-bottom: none;
        }

        .income {
            background-color: rgba(46, 204, 113, 0.1);
        }

        .expense {
            background-color: rgba(231, 76, 60, 0.1);
        }

        .transaction-amount {
            font-weight: bold;
        }

        .income .transaction-amount {
            color: #2ecc71;
        }

        .expense .transaction-amount {
            color: #e74c3c;
        }

        .delete-btn {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 1rem;
            transition: color 0.3s;
        }

        .delete-btn:hover {
            color: #e74c3c;
        }

        /* Fun Fact Styles */
        .fun-fact {
            background-color: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            font-style: italic;
            font-size: 0.9rem;
        }

        .fun-fact strong {
            font-style: normal;
        }

        /* Footer Styles */
        footer {
            text-align: center;
            padding: 2rem;
            background-color: var(--dark);
            color: white;
            margin-top: 2rem;
        }

        /* Hidden Message Styles */
        .hidden-message {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 100;
            max-width: 300px;
        }

        .hidden-message.show {
            transform: translateX(0);
        }

        .close-message {
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
            
            header h1 {
                font-size: 2rem;
            }

            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }

            .hidden-message {
                max-width: calc(100% - 40px);
            }
        }

        /* Animations */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .bounce {
            animation: bounce 1s infinite;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <h1>Selamat Ulang Tahun! üéÇ</h1>
        <p>Hadiah spesial dari temanmu yang selalu peduli</p>
        <div id="confetti-container"></div>
    </header>

    <div class="container">
        <!-- To Do List -->
        <div class="card">
            <h2><i class="fas fa-tasks"></i> To-Do List Harian</h2>
            <p>Catat tugas harianmu di sini dan centang ketika selesai!</p>
            <ul class="todo-list" id="todo-list">
                <!-- Todo items will be added here -->
            </ul>
            <div class="add-todo">
                <input type="text" id="new-todo" placeholder="Tulis tugas baru..." autocomplete="off">
                <button id="add-todo"><i class="fas fa-plus"></i></button>
            </div>
            <div class="fun-fact">
                <strong>Fun Fact:</strong> Menulis to-do list dapat meningkatkan produktivitas hingga 25%!
            </div>
        </div>

        <!-- Catatan -->
        <div class="card">
            <h2><i class="fas fa-edit"></i> Catatan Pribadi</h2>
            <p>Tulis apa saja yang ingin kamu ingat atau catat!</p>
            <textarea class="note-content" id="note-content" placeholder="Tulis catatanmu di sini..."></textarea>
            <button class="save-note" id="save-note"><i class="fas fa-save"></i> Simpan Catatan</button>
            <div class="fun-fact">
                <strong>Fun Fact:</strong> Menulis catatan tangan meningkatkan pemahaman dan retensi memori!
            </div>
        </div>

        <!-- Galeri Foto -->
        <div class="card">
            <h2><i class="fas fa-images"></i> Galeri Foto Random</h2>
            <p>Simpan foto-foto random yang ingin kamu ingat!</p>
            <div class="gallery" id="gallery">
                <!-- Gallery items will be added here -->
            </div>
            <div class="upload-area" id="upload-area">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Klik atau seret foto ke sini</p>
                <input type="file" id="file-input" accept="image/*" multiple style="display: none;">
            </div>
            <div class="fun-fact">
                <strong>Fun Fact:</strong> Otak memproses gambar 60,000 kali lebih cepat daripada teks!
            </div>
        </div>

        <!-- Musik -->
        <div class="card">
            <h2><i class="fas fa-music"></i> Musik Favorit</h2>
            <p>Putar musik favoritmu untuk menemani harimu!</p>
            <div class="music-player">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="playlist">Playlist</button>
                    <button class="tab-button" data-tab="player">Player</button>
                </div>
                
                <div class="tab-content active" id="playlist">
                    <ul class="song-list" id="song-list">
                        <li data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
                            <i class="fas fa-music"></i>
                            <span>Lagu Ulang Tahun</span>
                        </li>
                        <li data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">
                            <i class="fas fa-music"></i>
                            <span>Musik Santai</span>
                        </li>
                        <li data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3">
                            <i class="fas fa-music"></i>
                            <span>Musik Energik</span>
                        </li>
                        <li data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3">
                            <i class="fas fa-music"></i>
                            <span>Musik Inspiratif</span>
                        </li>
                        <li data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3">
                            <i class="fas fa-music"></i>
                            <span>Musik Klasik</span>
                        </li>
                    </ul>
                </div>
                
                <div class="tab-content" id="player">
                    <div class="now-playing" id="now-playing">Pilih lagu dari playlist</div>
                    <div class="time-info">
                        <span id="current-time">0:00</span>
                        <span id="duration">0:00</span>
                    </div>
                    <div class="progress-container" id="progress-container">
                        <div class="progress" id="progress"></div>
                    </div>
                    <div class="music-controls">
                        <button id="prev-btn"><i class="fas fa-step-backward"></i></button>
                        <button id="play-btn"><i class="fas fa-play"></i></button>
                        <button id="next-btn"><i class="fas fa-step-forward"></i></button>
                    </div>
                </div>
            </div>
            <div class="fun-fact">
                <strong>Fun Fact:</strong> Mendengarkan musik dapat meningkatkan mood dan mengurangi stres!
            </div>
        </div>

        <!-- Tabungan -->
        <div class="card">
            <h2><i class="fas fa-piggy-bank"></i> Catatan Keuangan</h2>
            <p>Catat pemasukan dan pengeluaranmu di sini!</p>
            <form class="finance-form" id="finance-form">
                <select id="transaction-type" required>
                    <option value="" disabled selected>Pilih jenis</option>
                    <option value="income">Pemasukan</option>
                    <option value="expense">Pengeluaran</option>
                </select>
                <input type="text" id="transaction-description" placeholder="Keterangan" required>
                <input type="number" id="transaction-amount" placeholder="Jumlah (Rp)" min="0" required>
                <button type="submit"><i class="fas fa-plus-circle"></i> Tambah Transaksi</button>
            </form>
            <div class="balance" id="balance">
                Saldo: Rp0
            </div>
            <ul class="transaction-list" id="transaction-list">
                <!-- Transactions will be added here -->
            </ul>
            <div class="fun-fact">
                <strong>Fun Fact:</strong> Menyimpan 10% dari penghasilan setiap bulan bisa membuatmu kaya dalam 20 tahun!
            </div>
        </div>
    </div>

    <footer>
        <p>Dibuat dengan ‚ù§Ô∏è oleh temanmu yang peduli | Selamat ulang tahun!</p>
    </footer>

    <div class="hidden-message" id="birthday-message">
        <span class="close-message" id="close-message">√ó</span>
        <h3>Special Message! üíå</h3>
        <p>Semoga hari ulang tahunmu penuh dengan kebahagiaan, kesehatan, dan kesuksesan! üéâ</p>
        <p>Kamu spesial dan berarti bagi banyak orang!</p>
    </div>

    <audio id="audio-player"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ==================== Confetti Effect ====================
            function createConfetti() {
                const colors = ['#ff6b6b', '#4ecdc4', '#ffe66d', '#a5ffd6', '#ff9ff3'];
                const confettiContainer = document.getElementById('confetti-container');
                
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = confetti.style.width;
                    confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                    confetti.style.animationDelay = Math.random() * 5 + 's';
                    confettiContainer.appendChild(confetti);
                }
            }

            createConfetti();

            // ==================== Birthday Message ====================
            setTimeout(() => {
                document.getElementById('birthday-message').classList.add('show');
            }, 3000);

            document.getElementById('close-message').addEventListener('click', function() {
                document.getElementById('birthday-message').classList.remove('show');
            });

            // ==================== To-Do List ====================
            const todoList = document.getElementById('todo-list');
            const newTodoInput = document.getElementById('new-todo');
            const addTodoBtn = document.getElementById('add-todo');
            
            function loadTodos() {
                const todos = JSON.parse(localStorage.getItem('todos')) || [];
                todoList.innerHTML = '';
                
                todos.forEach(todo => {
                    addTodoToDOM(todo.text, todo.completed);
                });
            }
            
            function addTodoToDOM(text, completed = false) {
                const li = document.createElement('li');
                li.className = 'todo-item ' + (completed ? 'completed' : '');
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = completed;
                checkbox.addEventListener('change', function() {
                    li.classList.toggle('completed');
                    saveTodos();
                });
                
                const label = document.createElement('label');
                label.textContent = text;
                
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.className = 'delete-btn';
                deleteBtn.addEventListener('click', function() {
                    li.classList.add('pulse');
                    setTimeout(() => {
                        li.remove();
                        saveTodos();
                    }, 300);
                });
                
                li.appendChild(checkbox);
                li.appendChild(label);
                li.appendChild(deleteBtn);
                todoList.appendChild(li);
            }
            
            function saveTodos() {
                const todos = [];
                document.querySelectorAll('.todo-item').forEach(item => {
                    todos.push({
                        text: item.querySelector('label').textContent,
                        completed: item.querySelector('input').checked
                    });
                });
                localStorage.setItem('todos', JSON.stringify(todos));
            }
            
            function addNewTodo() {
                const text = newTodoInput.value.trim();
                if (text) {
                    addTodoToDOM(text);
                    newTodoInput.value = '';
                    saveTodos();
                    newTodoInput.focus();
                }
            }
            
            addTodoBtn.addEventListener('click', addNewTodo);
            
            newTodoInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addNewTodo();
                }
            });
            
            loadTodos();

            // ==================== Notes ====================
            const noteContent = document.getElementById('note-content');
            const saveNoteBtn = document.getElementById('save-note');
            
            // Load note from localStorage
            noteContent.value = localStorage.getItem('note') || '';
            
            saveNoteBtn.addEventListener('click', function() {
                localStorage.setItem('note', noteContent.value);
                
                // Show feedback
                saveNoteBtn.innerHTML = '<i class="fas fa-check"></i> Tersimpan!';
                saveNoteBtn.style.backgroundColor = '#2ecc71';
                setTimeout(() => {
                    saveNoteBtn.innerHTML = '<i class="fas fa-save"></i> Simpan Catatan';
                    saveNoteBtn.style.backgroundColor = '';
                }, 2000);
            });

            // ==================== Gallery ====================
            const gallery = document.getElementById('gallery');
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            
            function loadGallery() {
                const images = JSON.parse(localStorage.getItem('gallery')) || [];
                gallery.innerHTML = '';
                
                images.forEach(image => {
                    addImageToGallery(image);
                });
            }
            
            function addImageToGallery(src) {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                
                const img = document.createElement('img');
                img.src = src;
                img.loading = 'lazy';
                
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
                deleteBtn.className = 'delete-btn';
                deleteBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    div.classList.add('pulse');
                    setTimeout(() => {
                        div.remove();
                        saveGallery();
                    }, 300);
                });
                
                div.appendChild(img);
                div.appendChild(deleteBtn);
                gallery.appendChild(div);
            }
            
            function saveGallery() {
                const images = [];
                document.querySelectorAll('.gallery-item img').forEach(img => {
                    images.push(img.src);
                });
                localStorage.setItem('gallery', JSON.stringify(images));
            }
            
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = 'rgba(78, 205, 196, 0.2)';
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.style.backgroundColor = '';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = '';
                
                if (e.dataTransfer.files.length) {
                    handleFiles(e.dataTransfer.files);
                }
            });
            
            fileInput.addEventListener('change', function() {
                if (fileInput.files.length) {
                    handleFiles(fileInput.files);
                    fileInput.value = ''; // Reset input
                }
            });
            
            function handleFiles(files) {
                let filesProcessed = 0;
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            addImageToGallery(e.target.result);
                            saveGallery();
                            filesProcessed++;
                            
                            if (filesProcessed === 1) {
                                // Show feedback for first image
                                uploadArea.innerHTML = '<i class="fas fa-check-circle"></i><p>Gambar ditambahkan!</p>';
                                uploadArea.style.backgroundColor = 'rgba(46, 204, 113, 0.2)';
                                setTimeout(() => {
                                    uploadArea.innerHTML = '<i class="fas fa-cloud-upload-alt"></i><p>Klik atau seret foto ke sini</p>';
                                    uploadArea.style.backgroundColor = '';
                                }, 2000);
                            }
                        };
                        reader.readAsDataURL(file);
                    }
                }
            }
            
            loadGallery();

            // ==================== Music Player ====================
            const audioPlayer = document.getElementById('audio-player');
            const playBtn = document.getElementById('play-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progress = document.getElementById('progress');
            const progressContainer = document.getElementById('progress-container');
            const songList = document.getElementById('song-list');
            const nowPlaying = document.getElementById('now-playing');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            
            let currentSongIndex = 0;
            let isPlaying = false;
            
            // Tab functionality
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Song list functionality
            songList.querySelectorAll('li').forEach((item, index) => {
                item.addEventListener('click', function() {
                    currentSongIndex = index;
                    playSong();
                    
                    // Switch to player tab
                    tabButtons[1].click();
                });
            });
            
            function playSong() {
                const songItem = songList.children[currentSongIndex];
                const songSrc = songItem.getAttribute('data-src');
                const songName = songItem.querySelector('span').textContent;
                
                audioPlayer.src = songSrc;
                audioPlayer.play()
                    .then(() => {
                        isPlaying = true;
                        playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        nowPlaying.textContent = 'Now Playing: ' + songName;
                        
                        // Highlight current song
                        songList.querySelectorAll('li').forEach(item => {
                            item.classList.remove('active');
                        });
                        songItem.classList.add('active');
                    })
                    .catch(error => {
                        console.error('Error playing song:', error);
                        nowPlaying.textContent = 'Error: Cannot play song';
                    });
            }
            
            function pauseSong() {
                audioPlayer.pause();
                isPlaying = false;
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
            
            function nextSong() {
                currentSongIndex = (currentSongIndex + 1) % songList.children.length;
                playSong();
            }
            
            function prevSong() {
                currentSongIndex = (currentSongIndex - 1 + songList.children.length) % songList.children.length;
                playSong();
            }
            
            playBtn.addEventListener('click', function() {
                if (isPlaying) {
                    pauseSong();
                } else {
                    playSong();
                }
            });
            
            nextBtn.addEventListener('click', nextSong);
            prevBtn.addEventListener('click', prevSong);
            
            audioPlayer.addEventListener('ended', nextSong);
            
            audioPlayer.addEventListener('timeupdate', function() {
                const { currentTime, duration } = audioPlayer;
                const progressPercent = (currentTime / duration) * 100;
                progress.style.width = progressPercent + '%';
                
                // Update time display
                currentTimeEl.textContent = formatTime(currentTime);
                
                if (!isNaN(duration)) {
                    durationEl.textContent = formatTime(duration);
                }
            });
            
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
            }
            
            progressContainer.addEventListener('click', function(e) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                const duration = audioPlayer.duration;
                
                audioPlayer.currentTime = (clickX / width) * duration;
            });

            // ==================== Finance ====================
            const financeForm = document.getElementById('finance-form');
            const transactionType = document.getElementById('transaction-type');
            const transactionDescription = document.getElementById('transaction-description');
            const transactionAmount = document.getElementById('transaction-amount');
            const transactionList = document.getElementById('transaction-list');
            const balanceDisplay = document.getElementById('balance');
            
            function loadTransactions() {
                const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
                transactionList.innerHTML = '';
                
                let balance = 0;
                
                transactions.forEach(transaction => {
                    addTransactionToDOM(transaction);
                    
                    if (transaction.type === 'income') {
                        balance += transaction.amount;
                    } else {
                        balance -= transaction.amount;
                    }
                });
                
                updateBalance(balance);
            }
            
            function addTransactionToDOM(transaction) {
                const li = document.createElement('li');
                li.className = 'transaction-item ' + transaction.type;
                
                const descriptionSpan = document.createElement('span');
                descriptionSpan.textContent = transaction.description;
                
                const amountSpan = document.createElement('span');
                amountSpan.className = 'transaction-amount';
                amountSpan.textContent = (transaction.type === 'income' ? '+' : '-') + 'Rp' + transaction.amount.toLocaleString('id-ID');
                
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.className = 'delete-btn';
                deleteBtn.addEventListener('click', function() {
                    li.classList.add('pulse');
                    setTimeout(() => {
                        li.remove();
                        saveTransactions();
                        calculateBalance();
                    }, 300);
                });
                
                li.appendChild(descriptionSpan);
                li.appendChild(amountSpan);
                li.appendChild(deleteBtn);
                transactionList.appendChild(li);
            }
            
            function saveTransactions() {
                const transactions = [];
                document.querySelectorAll('.transaction-item').forEach(item => {
                    const type = item.classList.contains('income') ? 'income' : 'expense';
                    const description = item.querySelector('span:first-child').textContent;
                    const amount = parseFloat(item.querySelector('.transaction-amount').textContent.replace(/[^0-9.]/g, ''));
                    
                    transactions.push({
                        type,
                        description,
                        amount
                    });
                });
                
                localStorage.setItem('transactions', JSON.stringify(transactions));
            }
            
            function calculateBalance() {
                let balance = 0;
                
                document.querySelectorAll('.transaction-item').forEach(item => {
                    const amountText = item.querySelector('.transaction-amount').textContent;
                    const amount = parseFloat(amountText.replace(/[^0-9.]/g, ''));
                    
                    if (item.classList.contains('income')) {
                        balance += amount;
                    } else {
                        balance -= amount;
                    }
                });
                
                updateBalance(balance);
            }
            
            function updateBalance(balance) {
                balanceDisplay.textContent = 'Saldo: Rp' + balance.toLocaleString('id-ID');
                balanceDisplay.className = 'balance ' + (balance >= 0 ? 'positive' : 'negative');
            }
            
            financeForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const type = transactionType.value;
                const description = transactionDescription.value.trim();
                const amount = parseFloat(transactionAmount.value);
                
                if (description && !isNaN(amount) && amount > 0 && type) {
                    const transaction = {
                        type,
                        description,
                        amount
                    };
                    
                    addTransactionToDOM(transaction);
                    saveTransactions();
                    calculateBalance();
                    
                    // Reset form
                    transactionDescription.value = '';
                    transactionAmount.value = '';
                    transactionType.value = '';
                    transactionDescription.focus();
                    
                    // Show feedback
                    const submitBtn = financeForm.querySelector('button');
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> Ditambahkan!';
                    submitBtn.style.backgroundColor = '#2ecc71';
                    setTimeout(() => {
                        submitBtn.innerHTML = '<i class="fas fa-plus-circle"></i> Tambah Transaksi';
                        submitBtn.style.backgroundColor = '';
                    }, 2000);
                }
            });
            
            loadTransactions();
        });
    </script>
</body>
</html>